<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ETH</title>
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<meta http-equiv="Access-Control-Allow-Origin" content="*" />
		<link rel="stylesheet" href="../css/mui.min.css">
		<link type="text/css" rel="stylesheet" href="../css/zdialog.css" />
		<!-- <link rel="stylesheet" href="../css/normalize.css"> -->
		<link rel="stylesheet" href="../css/zzsc.css">
		<!-- <link rel="stylesheet" href="http://www.jq22.com/jquery/font-awesome.4.6.0.css"> -->
		
		<script src="../js/mui.min.js"></script>
		<script src="../js/jquery-2.1.3.min.js"></script>
	</head>
	
	<style>
	body{
		background-color: white;
	}
	.mui-bar-nav{
		box-shadow: 0px 0px;
	}
	#search{
		margin-top: 13%;
		background-color: white;/* rgb(249,240,218) */
		width: 75%;
		height: 35px;
		margin-left: auto;
		margin-right: auto;
		border: 2px solid #487eb0;
		border-radius: 5px;
		text-align: right;
	}
	#searchtext{
		width: 78%;
		height: 27px;
		background-color: white;
		border: 0px solid rgb(123,167,171);
		margin-top: 2px;
	}
	
	#searchbtn{
		width: 17%;
		background-color: #487eb0;
		height: 32px;
		border: 4px solid #487eb0;
		border-radius: 0px 2px 2px 0px;
	}
	
	#eucpane{
		position: absolute;
		margin-top: 25px;
		left: 10%;
	}
	
	.labf{
		color: black;
		margin: 0px 0px 0px 0px;
		color: white;
	}
	.mui-icon{
		color: white;
	}
	
	#interlayer{
		position: absolute;
		right: 20px;
		margin-top: 2px;
		margin-bottom: 16px;
	}
	
	#refresha:active{
		transform: rotate(90deg);
	}
	
	
	#ethinfopane{
		margin-top: 80px;
		position: absolute;
		left: 0;
		right: 0;
	}
	
	#ethcal{
		width: 85%;
		height: 110px;
		background-color: #353b48;
		margin:auto;	
		border: 1px;
		border-radius: 10px;
			
	}
	
	#ethadr{
		margin-top: 10px;
		margin-left: 3%;
	}
	#ethb{
		margin-top: 10px;
		margin-left: 3%;
	}
	
	#jlev{
		right: 15px;
		top: 15px;
		position: absolute;
	}
	#jled{
		/* line-height: 0; */
		position: absolute;
		top:30px;
		margin-left: 5px;
	}
	#jlet{
		font-size: 12px;
		position: absolute;
		top:50px;
		margin-left: 5px;
	}
	#tds{
		width: 70px;
		position: absolute;
		right: 15px;
		top: 35px;
	}
	#yj{
		color: #3498db;
		font-size: 27px;
		margin: 0px;
		position: absolute;
		left: 3px;
		top: 2px;
	}
	
	#coin_ico{
		height: 18px;
		margin: 0px;
		padding: 0px;
		margin-top: 3px;
	}
	#coin_icos{
		height: 18px;
		margin: 0px;
		padding: 0px;
		margin-top: 3px;
	}
	#coin_label{
		position: relative;
		bottom: 3px;
	}
	
	
	</style>
	
	
	<body>
		<header id="header" class="mui-bar mui-bar-nav" style="background-color: white;">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: #e67e22;"></a>
			<!-- <h1 class="mui-title">ETH</h1> -->
			<div class="select-menu">
				<div class="select-menu-div" style="background-color: white;">
					<div id="No1" class="select-menu-inputs"></div>
					
					<!-- <span id="down" class="mui-icon iconfont" style="color: black;margin: 0px;padding: 0px;">&#xe580;</span> -->
					<!-- <i class="fa fa-caret-down"></i> -->
				</div>
				<ul class="select-menu-ul" >
					<li class="select-this"><img id="coin_ico" src="../img/coin_ico/ethereum_200_200.png">
						<label id="coin_label">ETH</label>
					</li>
					<!-- <li> <img id="coin_ico" src="../img/coin_ico/ethereum-classic_200_200.png">
						<label id="coin_label">ETC</label>
					</li> -->
					<li> <img id="coin_ico" src="../img/coin_ico/tether_200_200.png">
						<label id="coin_label">USDT</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/bitethereum_mid.png">
						<label id="coin_label">BITE</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/candy_mid.png">
						<label id="coin_label">CANDY5</label>
					</li>
					<!-- <li> <img id="coin_ico" src="../img/coin_ico/omisego_mid_1550021305608.png">
						<label id="coin_label">OMG</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/decentraland_200_200.png">
						<label id="coin_label">MANA</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/zilliqa_mid_1550625668192.png">
						<label id="coin_label">ZIL</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/aelf_mid.png">
						<label id="coin_label">ELF</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/dogecoin_200_200.png">
						<label id="coin_label">DOGE</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/mytoken_mid.png">
						<label id="coin_label">MT</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/olxa_mid.png">
						<label id="coin_label">OLXA</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/superedge_mid.png">
						<label id="coin_label">ECT</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/ultrain_ugas_mid.png">
						<label id="coin_label">UGAS</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/wixlar_wix_mid.png">
						<label id="coin_label">WIX</label>
					</li>
					<li> <img id="coin_ico" src="../img/coin_ico/evacash_mid.png">
						<label id="coin_label">EVC</label>
					</li> -->
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
				</ul>
			</div>
			<div id="" style="text-align: center;">
			</div>
			
		</header>
		
		<div id="search">
			<input id="searchtext"></input>
			<button id="searchbtn"><span id="scbtn" class="mui-icon iconfont" style="color: white;line-height: 0;">&#xe907;</span></button>
			
		</div>
		
		<div>
			
		</div>
		
		<div id="interlayer" style="text-align: center;">
			
			<span id="vt" class="mui-icon iconfont" style="font-size: 15px;color: black;">&#xe90d;</span>
			<label id="vctime" style="font-size: 10px;color: black;" class="labf"></label>
			
		</div>
		
		<div id="eucpane">
			
			<!-- <span id="ethi" class="mui-icon iconfont" style="color: #34495e;">&#xe909;</span> -->
			<div style="display:inline-block;width: 25px;height: 25px;background:#95a5a6;text-align: center;">
				<img id="coin_icos" src="../img/coin_ico/ethereum_200_200.png">
			</div>
			
			
			<label id="ethss" class="labf" style="color: #34495e;">1</label>
			
			<span id="usdi" class="mui-icon iconfont" style="color: #6ab04c;">&#xe93b;</span>
			<label id="usds" class="labf" style="color: #6ab04c;">0</label>
			
			<span id="cnyi" class="mui-icon iconfont" style="color: #d63031;">&#xe93e;</span>
			<label id="cnys" class="labf" style="color: #d63031;">0</label>
			&nbsp;
			<!-- <span id="refresha" class="mui-icon iconfont" style="font-size: 33px;color: #4cd137;">&#xe90b;</span> -->
			
		</div>
		
		
		<div id="ethinfopane" style="">
			
			<div id="ethcal">
				<span id="ethadr" class="mui-icon iconfont">&#xe90c;</span>
				<label id="edr" style="font-size: 11px;" class="labf">XXXXXXXXXXXXXXXXXXXXXX</label>
				<br>
				<span id="ethb" class="mui-icon iconfont">&#xe911;</span>
				<label id="eths" class="labf">0</label>
				
				<!-- <button id="trac" style="position: absolute;right: 10%;" type="button" class="mui-btn mui-btn-primary mui-btn-outlined">
					转账
				</button> -->
				
			</div>	
			<!-- <div style="text-align: center;margin-left: auto;margin-right: auto;">
				<div style="width: 100%;height: 1px;margin-top: 20px;background-color: #bdc3c7;"></div>
			</div> -->
			
			
			<div id="transaction_record" style="margin-top: 15px;">
				<div>
					
						<div style="text-align: center;">
							<label>交易记录</label>
						</div>
						
						<div id="aloads" style="margin-left: 37%;">
							<div class="span" style="background-color: white;">
								<div class="battery" style=""></div>
							</div>
						</div>
					<ul class="mui-table-view" id="trow">	
						<!-- <div id="trow"> -->
							<li id="elabels" class="mui-table-view-cell" v-for="trs,index in tr">
							<div v-if="zadr==trs.from&&trs.value<=0">
								<span v-cloak id="refresha" class="mui-icon iconfont" style="color: #495A80;font-size: 33px;margin-top: 10px;margin-bottom: 10px;">&#xe9af;</span>
								<label v-cloak id="jlev" style="color: #2ecc71;">+{{(trs.value/wei)}}</label>
								<label v-cloak id="jled">{{trs.to.substr(0,6)+'...'+trs.to.substr(trs.to.length-6,trs.to.length)}}</label>
								<label v-cloak id="jlet">{{getLocalTime(trs.timeStamp)}}</label>
							</div>
							<div v-else-if="zadr!=trs.from&&trs.value>0">
								<span v-cloak id="refresha" class="mui-icon iconfont" style="color: #2ecc71;font-size: 33px;margin-top: 20px;margin-bottom: 10px;">&#xe0aa;</span>
								<label v-cloak id="jlev" style="color: #2ecc71;">+{{(trs.value/wei)}}</label>
								<label v-cloak id="jled">{{trs.to.substr(0,6)+'...'+trs.to.substr(trs.to.length-6,trs.to.length)}}</label>
								<label v-cloak id="jlet">{{getLocalTime(trs.timeStamp)}}</label>
							</div>
							<div v-else-if="zadr==trs.from">
								<span v-cloak id="refresha" class="mui-icon iconfont" style="color: #e74c3c;font-size: 33px;margin-top: 20px;margin-bottom: 10px;">&#xe0ab;</span>
								<label v-cloak id="jlev" style="color: #e74c3c;">-{{(trs.value/wei)}}</label>
								<label v-cloak id="jled">{{trs.from.substr(0,6)+'...'+trs.from.substr(trs.from.length-6,trs.from.length)}}</label>
								<label v-cloak id="jlet">{{getLocalTime(trs.timeStamp)}}</label>
							</div>
							<button id="tds" onclick="tt(this.name);" v-bind:name="index">
								<span v-cloak id="yj" class="mui-icon iconfont">&#xe910;</span>
								&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;查看
							</button>
							
							
							</li>
							
						<!-- </div> -->
						<!-- <div style="text-align: center;"><p>~</p></div> -->
						
					</ul>
					
				</div>

				
			</div>
			
			
		</div>	
		
		
		<script type="text/javascript" src="../js/zdialog.js"></script>
		<script type="text/javascript" src="../js/web3.min.js" ></script>
		<script type="text/javascript" src="../js/vue.min.js" ></script>
		
		<script>
			$('#aloads').hide();
			// function plusReady(){
			// 	plus.navigator.setStatusBarBackground('rgb(249,240,218)');
			// }
			// var web3;
			if (typeof web3 !== 'undefined') {
			  web3 = new Web3(web3.currentProvider);
			} else {
				//https://mainnet-eth.token.im/
				//http://http://192.168.1.109:8545
				//https://mainnet.infura.io/v3/20b3769c3cae4bf9b42661c265f04f55
				//rinkeby.infura.io/v3/20b3769c3cae4bf9b42661c265f04f55
			  // var web3 = new Web3(new Web3.providers.HttpProvider("http://http://192.168.1.109:8545", 0));
			   // var web3 = new Web3(new Web3.providers.WebsocketProvider('ws://192.168.1.109:8545'));
			   // var web3 = new Web3(new Web3.providers.HttpProvider("http://192.168.1.109:8545"));
			    web3 = new Web3(new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/20b3769c3cae4bf9b42661c265f04f55"));
			   // web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider("https://web3.token.im/",30));
			   // web3 = new Web3(Web3.givenProvider || new Web3.providers.HttpProvider("https://mainnet.infura.io/v3/20b3769c3cae4bf9b42661c265f04f55"));
			}
			web3.eth.getBlock(0, function(error, result){//1.0
				if(!error){
					// console.log(result)
				}else{
					mui.alert("something wrong,the connection might be failed");
				}
			});
			
			var eth_wei=1000000000000000000;
			var usdt_wei=Math.pow(10,6);
			var candy_wei=Math.pow(10,8);
			
			var num_wei=eth_wei;// wei 基本单位
			
			var eth_trurl='https://api-cn.etherscan.com/api?module=account&action=txlist&sort=desc&address=';
			var usdt_adr='0xdac17f958d2ee523a2206206994597c13d831ec7';
			var candy5_adr='0x45555629AAbfEA138EAd1C1E5f2AC3Cce2aDd830';
			var bite_adr='0x1530df3e1c69501d4ecb7e58eb045b90de158873';
			
			var usdt_trurl='https://api-cn.etherscan.com/api?module=account&action=tokentx&contractAddress='+usdt_adr+'&address=';
			var candy5_trurl='https://api-cn.etherscan.com/api?module=stats&action=ethprice.com/api?module=account&action=tokentx&contractAddress='+candy5_adr+'&address=';
			var bite_trurl='https://api-cn.etherscan.com/api?module=stats&action=ethprice.com/api?module=account&action=tokentx&contractAddress='+bite_adr+'&address=';
			
			
			var vm = new Vue({
				el: '#transaction_record',
				data: {
				  tr:[],
				  wei:1000000000000000000,
				  zadr:"",
				  coin_url:""
				},
				watch : {},
				methods:{
					resarray:function(){
						var _this=this;
						
						$('#trow').hide();
						$('#aloads').show();
						
						_this.zadr=$('#searchtext').val().toLowerCase();
						var url1=this.coin_url+_this.zadr; //交易记录  +"&apikey=ERXIYCNF6PP3ZNQAWICHJ6N5W7P212AHZI"
						mui.getJSON(url1,function(ers){
							_this.tr=ers.result;
							$('#aloads').hide();
							$('#trow').show();
							_this.$forceUpdate();
						});
						
					}
				}
			});
			
			vm.coin_url=eth_trurl;
			
			$("#searchbtn").on("tap", function() {
				
				var ethadr=$('#searchtext').val();
				ethadr.replace(/\s/g,"");
				if(ethadr.length>0){
					if(ethadr.length==42&&ethadr.substring(0,2)=="0x"){
						$('#edr').html(ethadr);
						if(coins=='ETH'){
							//-------------------查询主链ETH的余额
							web3.eth.getBalance(ethadr).then(v => {
								ether=parseFloat(v/num_wei).toFixed(18);
								// console.log(ether);//.dividedBy(Ether)
								$('#eths').html(ether.toString());
							});
							//----------------------------
						}else if(coins=='USDT'){
							contract_gb(usdt_adr,ethadr);
							$("#usds").html(0);
							$("#cnys").html(0);
						}else if(coins=='CANDY'){
							contract_gb(candy5_adr,ethadr);
							$("#usds").html(0);
							$("#cnys").html(0);
						}else if(coins=='BITE'){
							contract_gb(bite_adr,ethadr);
							$("#usds").html(0);
							$("#cnys").html(0);
						}
						
						vm.resarray();
					}else{
						mui.toast('地址格式错误',{ duration:'long', duration: 1500, type:'div' }); 
					}
				}
				
			});
			
			
			var url2="https://api-cn.etherscan.com/api?module=stats&action=ethprice";//ETH最新价格
			var url3="https://api.exchangerate-api.com/v4/latest/USD";//货币 汇率兑换
			var eth_usd_exchange_rate=0;
			var eth_cny_exchange_rate=0;
			var calibration_time=0;
			
			datasession_S();
			function datasession_S(){
				$("#vctime").html(sessionStorage.getItem('vctime'));
				$("#usds").html(sessionStorage.getItem('usds'));
				$("#cnys").html(sessionStorage.getItem('cnys'));
			}
			
			exchange_rate_R();
			function  exchange_rate_R(){
				$.getJSON(url2,function(ret){
					eth_usd_exchange_rate=ret.result.ethusd;
					var times= ret.result.ethusd_timestamp;
					calibration_time=getLocalTime(times);
					sessionStorage.setItem('vctime',"汇率校准-- "+calibration_time);
					sessionStorage.setItem('usds',parseFloat(eth_usd_exchange_rate).toFixed(2));
					// console.log(ret.result.ethusd);
					$.getJSON(url3,function(rets){
						eth_cny_exchange_rate=eth_usd_exchange_rate*rets.rates.CNY;
						sessionStorage.setItem('cnys',parseFloat(eth_cny_exchange_rate).toFixed(2));
						datasession_S();
					});
				});
			}
			
			function getLocalTime(nS) {     
			   return new Date(parseInt(nS) * 1000).toLocaleString().replace(/:\d{1,2}$/,' ');     
			}
			
			$('#refresha').click(function(){
				exchange_rate_R();
			});
			
			// $('#trow').on("tap", function() {
			// 	var i= $(this).attr('name');
			// 	$(this).text()
			// 					// i=i-1;
			// 					// vm.tr[i];
			// 	$.DialogByZ.Alert({Title: "提示", Content: "您的请求失败",BtnL:"确定",FunL:alerts}) 
			// });
			var coins='ETH';
			function estimate(coin){
				coins=coin;
				if(coin=='ETH'){
					$('#coin_icos').attr('src','../img/coin_ico/ethereum_200_200.png');
					vm.coin_url=eth_trurl;
					num_wei=eth_wei;
					vm.wei=eth_wei;
				}else if(coin=='USDT'){
					$('#coin_icos').attr('src','../img/coin_ico/tether_200_200.png');
					vm.coin_url=usdt_trurl;
					num_wei=usdt_wei;
					vm.wei=usdt_wei;
				}else if(coin=='CANDY'){
					$('#coin_icos').attr('src','../img/coin_ico/candy_mid.png');
					vm.coin_url=candy5_trurl;
					num_wei=candy_wei;
					vm.wei=candy_wei;
				}else if(coin=='BITE'){
					$('#coin_icos').attr('src','../img/coin_ico/bitethereum_mid.png');
					vm.coin_url=candy5_trurl;
					num_wei=candy_wei;
					vm.wei=candy_wei;
				}
				
				
				
				
			}
			
			var gweis=1000000000;
			
			function tt(str){
				vm.tr[str];
				var popup_html="<div style='text-align: center;'>";
				
				if(vm.tr[str].isError==0){//判断交易是否成功
					
					
					if(vm.zadr==vm.tr[str].from&&vm.tr[str].value<=0){
						popup_html+="<span v-cloak id='' class='mui-icon iconfont' style='margin-bottom: 10px;color: #495A80;font-size: 46px;'>&#xe9af;</span><br>";
						popup_html+="<label style='font-size:19px;'>合约调用成功</label>";
					}else if(vm.zadr==vm.tr[str].from&&vm.tr[str].value>0){
						popup_html+="<span v-cloak id='' class='mui-icon iconfont' style='color: #2ecc71;font-size: 46px;'>&#xe90f;</span><br>";
						popup_html+="<label style='font-size:19px;'>转账成功</label>";
					}else if(vm.zadr==vm.tr[str].to){
						popup_html+="<span v-cloak id='' class='mui-icon iconfont' style='color: #2ecc71;font-size: 46px;'>&#xe90f;</span><br>";
						popup_html+="<label style='font-size:19px;'>收款成功</label>";
					}
					
					
				}
				popup_html+="<br><label style='font-size:13px;'>"+getLocalTime(vm.tr[str].timeStamp)+"</label>";
				popup_html+="<hr style=';' width='100%'>";
				
				popup_html+=" <label style='font-size:15px;position:absolute;left:20px;'>金额:<label style='font-size:19px;position:absolute;left:90px;'>"+vm.tr[str].value/num_wei+"&nbsp;</label></label>"
				popup_html+="<br><br><label style='font-size:15px;position:absolute;left:20px;'>矿工费用:<label style='font-size:15px;position:absolute;left:90px;'>"+parseFloat((vm.tr[str].gas*vm.tr[str].gasPrice)/eth_wei).toFixed(13)+"&nbsp;ether</label></label>"
				popup_html+="<br><label style='font-size:10px;position:absolute;left: 110px;'>=Gas("+vm.tr[str].gas+") * GasPrice("+vm.tr[str].gasPrice/gweis+" gwei) ether</label>"
				
				popup_html+="<br><label style='font-size:15px;position:absolute;left:20px;line-height:3;'>收款地址:<textarea id='copys1' disabled='disabled' style='background-color:rgba(255,255,255,0);width:230px;border:none;font-size:13px;position:absolute;left:70px;'>"+vm.tr[str].to+"</textarea></label>"
				
				popup_html+="<br><br><br><label style='font-size:15px;position:absolute;left:20px;line-height:3;'>付款地址:<textarea id='copys' disabled='disabled' style='background-color:rgba(255,255,255,0);width:230px;border:none;font-size:13px;position:absolute;left:70px;'>"+vm.tr[str].from+"</textarea></label>"
				
				
				popup_html+="<br><br><br><label style='font-size:15px;position:absolute;left:20px;line-height:3;'>交易号:<textarea disabled='disabled' style='background-color:rgba(255,255,255,0);width:230px;height:70px;heith;border:none;font-size:13px;position:absolute;left:70px;'>"+vm.tr[str].hash+"</textarea></label>";
				popup_html+="<br><br><br><br><label style='font-size:15px;position:absolute;left:20px;'>区块:<label style='font-size:13px;position:absolute;left:90px;'>"+vm.tr[str].blockNumber+"</label></label>";
				popup_html+="<br><br><label style='font-size:15px;position:absolute;left:20px;'>确认区块数:<label style='font-size:13px;position:absolute;left:90px;'>"+vm.tr[str].confirmations+"</label></label>"
				
				
				$.DialogByZ.Alert({Title: "", Content: popup_html,BtnL:"确定",FunL:alerts}) 
				
				
			}
			function contract_gb(contractAddress,currentAccount){
				var v;
				var contract_url='https://api-cn.etherscan.io/api?module=account&action=tokenbalance&contractaddress='+contractAddress+'&tag=latest&address='+currentAccount+'&tag=latest&apikey=ERXIYCNF6PP3ZNQAWICHJ6N5W7P212AHZI';
				$.getJSON(contract_url,function(rets){
					v= rets.result/num_wei;
					$('#eths').html(v);
				});
				
// 				var contractAbi = [
// 					{
// 						"constant": true,
// 						"inputs": [],
// 						"name": "name",
// 						"outputs": [{"name": "", "type": "string"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "_spender", "type": "address"}, {"name": "_value", "type": "uint256"}],
// 						"name": "approve",
// 						"outputs": [{"name": "", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "totalSupply",
// 						"outputs": [{"name": "", "type": "uint256"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "_from", "type": "address"}, {"name": "_to", "type": "address"}, {
// 							"name": "_value",
// 							"type": "uint256"
// 						}],
// 						"name": "transferFrom",
// 						"outputs": [{"name": "", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "INITIAL_SUPPLY",
// 						"outputs": [{"name": "", "type": "uint256"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "decimals",
// 						"outputs": [{"name": "", "type": "uint256"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [],
// 						"name": "unpause",
// 						"outputs": [],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "paused",
// 						"outputs": [{"name": "", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "_spender", "type": "address"}, {"name": "_subtractedValue", "type": "uint256"}],
// 						"name": "decreaseApproval",
// 						"outputs": [{"name": "success", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [{"name": "_owner", "type": "address"}],
// 						"name": "balanceOf",
// 						"outputs": [{"name": "balance", "type": "uint256"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [],
// 						"name": "pause",
// 						"outputs": [],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "owner",
// 						"outputs": [{"name": "", "type": "address"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [],
// 						"name": "symbol",
// 						"outputs": [{"name": "", "type": "string"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "_to", "type": "address"}, {"name": "_value", "type": "uint256"}],
// 						"name": "transfer",
// 						"outputs": [{"name": "", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "_spender", "type": "address"}, {"name": "_addedValue", "type": "uint256"}],
// 						"name": "increaseApproval",
// 						"outputs": [{"name": "success", "type": "bool"}],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {
// 						"constant": true,
// 						"inputs": [{"name": "_owner", "type": "address"}, {"name": "_spender", "type": "address"}],
// 						"name": "allowance",
// 						"outputs": [{"name": "", "type": "uint256"}],
// 						"payable": false,
// 						"stateMutability": "view",
// 						"type": "function"
// 					}, {
// 						"constant": false,
// 						"inputs": [{"name": "newOwner", "type": "address"}],
// 						"name": "transferOwnership",
// 						"outputs": [],
// 						"payable": false,
// 						"stateMutability": "nonpayable",
// 						"type": "function"
// 					}, {"inputs": [], "payable": false, "stateMutability": "nonpayable", "type": "constructor"}, {
// 						"anonymous": false,
// 						"inputs": [],
// 						"name": "Pause",
// 						"type": "event"
// 					}, {"anonymous": false, "inputs": [], "name": "Unpause", "type": "event"}, {
// 						"anonymous": false,
// 						"inputs": [{"indexed": true, "name": "previousOwner", "type": "address"}, {
// 							"indexed": true,
// 							"name": "newOwner",
// 							"type": "address"
// 						}],
// 						"name": "OwnershipTransferred",
// 						"type": "event"
// 					}, {
// 						"anonymous": false,
// 						"inputs": [{"indexed": true, "name": "owner", "type": "address"}, {
// 							"indexed": true,
// 							"name": "spender",
// 							"type": "address"
// 						}, {"indexed": false, "name": "value", "type": "uint256"}],
// 						"name": "Approval",
// 						"type": "event"
// 					}, {
// 						"anonymous": false,
// 						"inputs": [{"indexed": true, "name": "from", "type": "address"}, {
// 							"indexed": true,
// 							"name": "to",
// 							"type": "address"
// 						}, {"indexed": false, "name": "value", "type": "uint256"}],
// 						"name": "Transfer",
// 						"type": "event"
// 					}];
// 
// 				// 定义合约
// 				var myContract = new web3.eth.Contract(contractAbi, contractAddress, {
// 					from: currentAccount, // default from address
// 					gasPrice: '10000000000' // default gas price in wei, 10 gwei in this case
// 				});
// 				//查看某个账号的代币余额
// 				myContract.methods.balanceOf(contractAddress).call({from: currentAccount}, function(error, result){
// 					if(!error) {
// 						console.log(result);
// 					} else {
// 						console.log(error);
// 					}
// 				});
				
				
			}
			
			
			
		   function alerts(){
			  $.DialogByZ.Close();
		   }
			
			$('#trac').on('tap',function(){
				mui.openWindow({
				url:'transfer_accounts.html'
				});
			});
			
			$(function(){
				selectMenu(0);
				selectMenu(1);
				function selectMenu(index){
				   $(".select-menu-inputs").eq(index).html($(".select-this").eq(index).html());//在输入框中自动填充第一个选项的值
				   $(".select-menu-div").eq(index).on("click",function(e){
						  e.stopPropagation();
						 if($(".select-menu-ul").eq(index).css("display")==="block"){
							 $(".select-menu-ul").eq(index).hide();
							 $(".select-menu-div").eq(index).find("i").removeClass("select-menu-i");
							 $(".select-menu-ul").eq(index).animate({marginTop:"50px",opacity:"0"},"fast");
						 }else{
							 $(".select-menu-ul").eq(index).show();
							 $(".select-menu-div").eq(index).find("i").addClass("select-menu-i");
							 $(".select-menu-ul").eq(index).animate({marginTop:"5px",opacity:"1"},"fast");
						 }
						 for(var i=0;i<$(".select-menu-ul").length;i++){
							  if(i!==index&& $(".select-menu-ul").eq(i).css("display")==="block"){
									$(".select-menu-ul").eq(i).hide();
									$(".select-menu-div").eq(i).find("i").removeClass("select-menu-i");
									$(".select-menu-ul").eq(i).animate({marginTop:"50px",opacity:"0"},"fast");
							  }
						 }

				   });
				   $(".select-menu-ul").eq(index).on("click","li",function(){//给下拉选项绑定点击事件
					   $(".select-menu-inputs").eq(index).html($(this).html());//把被点击的选项的值填入输入框中
					   estimate($('#coin_label').html());
					   console.log($('#coin_label').html());
					   
					   $(".select-menu-div").eq(index).click();
					   $(this).siblings(".select-this").removeClass("select-this");
					   $(this).addClass("select-this");
				   });
				 $("body").on("click",function(event){
						 event.stopPropagation();
					  if($(".select-menu-ul").eq(index).css("display")==="block"){
							console.log(1);
						  $(".select-menu-ul").eq(index).hide();
							 $(".select-menu-div").eq(index).find("i").removeClass("select-menu-i");
							 $(".select-menu-ul").eq(index).animate({marginTop:"50px",opacity:"0"},"fast");
						 
					 }

				 });

				}


			});
			
		</script>
		<style>
		.select-menu{
			cursor:pointer;
			width:202px;
			height:32px;
			margin:120px 0 0 100px;
		}
	   .select-menu-ul{
			/* margin-top:50px; */
			list-style:none;
			opacity:0;
			display:none;
			width:110px;
			text-align:left;
			border:1px solid #ddd;
			background:#fff;
			position:absolute;
			z-index:1;
			padding: 0px;
			border-radius: 10px;
			top: 41px;
			left: 40%;
			border: 1px solid #e84118;
		}
		.select-menu-ul li{
			padding:2% 0 2% 3%;
			border-radius: 10px;
			
		}
		.select-menu-ul li:hover{
			background:#f2f2f2;
			
		}
		.select-menu-div{
			top: 15px;
			position:absolute;
			height:30px;
			width:110px;
			border:1px solid #ddd;
			/* line-height:30px; */
			border-radius: 10px;
			padding-top: 2px;
			left: 40%;
			border: 1px solid #e84118;
		}
		.select-this{
			background:#e84118;
		}
		.select-this:hover{
			 background:#e84118!important;
		}
		#down{
			margin-right:5px;
			position:absolute;
			right:3px;
			top:3px;
		}
		.select-menu-inputs{
			margin-left:3%;
			border:0;
			/* height:29px; */
			width: 90px;
			cursor:pointer;
			user-select:none;
			font-family:;
			/* font-size: 15px!important; */
			font: "黑体"!important;
		}
		.select-menu-span{
		  /* transform:rotate(180deg); */

		}
		#down:active{
			transform:rotate(180deg);
			/* color: gainsboro; */
		}
		
		
		#down{
		-webkit-transition: all 0.4s ease;
		-o-transition: all 0.4s ease;
		transition: all 0.4s ease;
		}
		</style>
	
</html>
